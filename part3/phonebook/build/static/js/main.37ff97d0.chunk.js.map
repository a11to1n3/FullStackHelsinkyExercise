{"version":3,"sources":["components/Filter.js","PersonServices.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["Filter","persons","useState","newFilter","setNewFilter","isString","setString","onChange","event","filName","filter","person","name","toLowerCase","includes","target","value","length","console","log","map","key","number","newObject","axios","post","then","response","data","id","put","PersonForm","setAdded","setPersons","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","nameList","newContact","find","window","confirm","personServices","returnedPerson","catch","error","concat","setTimeout","type","Persons","setMissing","setDeleted","per","setPer","Person","onClick","people","delete","request","status","App","addedNoti","setAddedNoti","deletedNoti","setDeletedNoti","missingNoti","setMissingNoti","useEffect","get","message","style","color","backgroundColor","fontSize","padding","borderStyle","borderRadius","marginBottom","visibility","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.37ff97d0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\n\nconst Filter = ({persons}) => {\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [isString, setString] = useState(true);\n\n  const handleFilterChange = event => {\n    const filName = persons.filter(person => {\n      if (\n        person.name.toLowerCase().includes(event.target.value.toLowerCase())\n      ) {\n        return person;\n      }\n    });\n    if (filName.length > 0) {\n      setString(false);\n      setNewFilter(filName);\n    } else {\n      setString(true);\n      setNewFilter(\"Nothing to show\");\n    }\n  };\n\n  const rowFilter = () => {\n    console.log(isString);\n    console.log(newFilter);\n    if (isString) {\n      return <div>{newFilter}</div>;\n    } else {\n      return newFilter.map(person => (\n        <div key={person.name}>\n          {person.name} {person.number}\n          <br />\n        </div>\n      ));\n    }\n  };\n\n  return (\n    <div>\n      <form>\n        <div>\n          filter show with <input onChange={handleFilterChange} />\n        </div>\n      </form>\n      <div>{rowFilter()}</div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update };\n","import React, { useState } from \"react\";\nimport personServices from \"../PersonServices\";\n\nconst PersonForm = ({ setAdded, persons, setPersons }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleNameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const addContact = event => {\n    event.preventDefault();\n    let nameList = \"\";\n    let id = \"\";\n\n    const newContact = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    };\n\n    if (nameList) {\n      nameList = persons.find(person => {\n        if (person.name === newName) {\n          return newName;\n        }\n      });\n      id = persons.find(person => {\n        if (person.name === newName) {\n          return person;\n        }\n      }).id;\n      if (\n        window.confirm(\n          `${nameList} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personServices\n          .update(id, newContact)\n          .then(returnedPerson => {\n            setPersons(\n              persons.map(person =>\n                person.id !== id ? person : returnedPerson\n              )\n            );\n            setAdded(\n              `Added ${newName}`\n            );\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    } else {\n      personServices\n        .create(newContact)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setAdded(\n            `Added ${newName}`\n          );\n          setTimeout(() => {\n            setAdded(null)\n          },5000)\n          setNewName(\"\");\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={addContact}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst Persons = ({ setMissing, setDeleted, per, setPer }) => {\n  const deleteContact = people => {\n    if (window.confirm(`Delete ${people.person.name}?`)) {\n      setPer(\n        per.filter(person => {\n          if (person.name !== people.person.name) {\n            return person;\n          }\n        })\n      );\n      setDeleted(`Deleted ${people.person.name}`);\n      setTimeout(() => {\n        setDeleted(null);\n      }, 5000);\n      axios\n        .delete(`http://localhost:3001/persons/${people.person.id}`)\n        .catch(error => {\n          if (error.response.request.status === 404) {\n            console.log(\"I am here\");\n            setDeleted(null);\n            setMissing(\n              `Information of user ${people.person.name} was already removed`\n            );\n            setTimeout(() => setMissing(null), 5000);\n          }\n        });\n    }\n  };\n\n  const Person = ({ person }) => {\n    return (\n      <div>\n        {person.name} {person.number}\n        <button\n          onClick={() => {\n            deleteContact({ person });\n          }}\n        >\n          delete\n        </button>\n        <br />\n      </div>\n    );\n  };\n\n  const rows = () => {\n    return per.map(person => <Person key={person.name} person={person} />);\n  };\n\n  return <div>{rows()}</div>;\n};\n\nexport default Persons;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [addedNoti, setAddedNoti] = useState(\"\");\n  const [deletedNoti, setDeletedNoti] = useState(\"\");\n  const [missingNoti, setMissingNoti] = useState(\"\");\n\n  const DeleteNotification = ({ message }) => {\n    const successfullDeleteStyle = {\n      color: \"red\",\n      backgroundColor: \"lightgrey\",\n      fontSize: 20,\n      padding: 10,\n      borderStyle: \"solid\",\n      borderRadius: 5,\n      marginBottom: 10,\n      visibility: \"visible\"\n    };\n    if (!message) {\n      return null;\n    } else {\n      return <div style={successfullDeleteStyle}>{message}</div>;\n    }\n  };\n\n  const MissingNotification = ({ message }) => {\n    const successfullDeleteStyle = {\n      color: \"red\",\n      backgroundColor: \"lightgrey\",\n      fontSize: 20,\n      padding: 10,\n      borderStyle: \"solid\",\n      borderRadius: 5,\n      marginBottom: 10,\n      visibility: \"visible\"\n    };\n    if (!message) {\n      return null;\n    } else {\n      return <div style={successfullDeleteStyle}>{message}</div>;\n    }\n  };\n\n  const AddNotification = ({ message }) => {\n    const successfullAddStyle = {\n      color: \"green\",\n      backgroundColor: \"lightgrey\",\n      fontSize: 20,\n      padding: 10,\n      borderStyle: \"solid\",\n      borderRadius: 5,\n      marginBottom: 10,\n      visibility: \"visible\"\n    };\n\n\n    if (!message) {\n      return null;\n    } else {\n      return <div style={successfullAddStyle}>{message}</div>;\n    }\n  };\n\n  const hook = () => {\n    axios.get(\"http://localhost:3001/persons\").then(response => {\n      setPersons(response.data);\n    });\n  };\n\n  useEffect(hook, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <AddNotification message={addedNoti} />\n      <DeleteNotification message={deletedNoti} />\n      <MissingNotification message={missingNoti} />\n      <Filter persons={persons} />\n      <h3>Add a new</h3>\n      <PersonForm\n        setAdded={setAddedNoti}\n        persons={persons}\n        setPersons={setPersons}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        setMissing={setMissingNoti}\n        setDeleted={setDeletedNoti}\n        per={persons}\n        setPer={setPersons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}