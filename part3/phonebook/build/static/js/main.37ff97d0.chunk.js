(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),c=n(2),i=function(e){var t=e.persons,n=Object(a.useState)(""),o=Object(c.a)(n,2),l=o[0],i=o[1],u=Object(a.useState)(!0),s=Object(c.a)(u,2),m=s[0],d=s[1];return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,"filter show with ",r.a.createElement("input",{onChange:function(e){var n=t.filter((function(t){if(t.name.toLowerCase().includes(e.target.value.toLowerCase()))return t}));n.length>0?(d(!1),i(n)):(d(!0),i("Nothing to show"))}}))),r.a.createElement("div",null,(console.log(m),console.log(l),m?r.a.createElement("div",null,l):l.map((function(e){return r.a.createElement("div",{key:e.name},e.name," ",e.number,r.a.createElement("br",null))})))))},u=n(3),s=n.n(u),m=function(e){return s.a.post("/api/persons",e).then((function(e){return e.data}))},d=function(e,t){return s.a.put("".concat("/api/persons","/").concat(e),t).then((function(e){return e.data}))},f=function(e){var t=e.setAdded,n=e.persons,o=e.setPersons,l=Object(a.useState)(""),i=Object(c.a)(l,2),u=i[0],s=i[1],f=Object(a.useState)(""),b=Object(c.a)(f,2),p=b[0],g=b[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a="",r="",l={name:u,number:p,id:n.length+1};a?(a=n.find((function(e){if(e.name===u)return u})),r=n.find((function(e){if(e.name===u)return e})).id,window.confirm("".concat(a," is already added to phonebook, replace the old number with a new one?"))&&d(r,l).then((function(e){o(n.map((function(t){return t.id!==r?t:e}))),t("Added ".concat(u))})).catch((function(e){console.log(e)}))):m(l).then((function(e){o(n.concat(e)),t("Added ".concat(u)),setTimeout((function(){t(null)}),5e3),s("")})).catch((function(e){console.log(e)}))}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:u,onChange:function(e){console.log(e.target.value),s(e.target.value)}})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:p,onChange:function(e){console.log(e.target.value),g(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},b=function(e){var t=e.setMissing,n=e.setDeleted,a=e.per,o=e.setPer,l=function(e){var l=e.person;return r.a.createElement("div",null,l.name," ",l.number,r.a.createElement("button",{onClick:function(){var e;e={person:l},window.confirm("Delete ".concat(e.person.name,"?"))&&(o(a.filter((function(t){if(t.name!==e.person.name)return t}))),n("Deleted ".concat(e.person.name)),setTimeout((function(){n(null)}),5e3),s.a.delete("http://localhost:3001/persons/".concat(e.person.id)).catch((function(a){404===a.response.request.status&&(console.log("I am here"),n(null),t("Information of user ".concat(e.person.name," was already removed")),setTimeout((function(){return t(null)}),5e3))})))}},"delete"),r.a.createElement("br",null))};return r.a.createElement("div",null,a.map((function(e){return r.a.createElement(l,{key:e.name,person:e})})))},p=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),u=Object(c.a)(l,2),m=u[0],d=u[1],p=Object(a.useState)(""),g=Object(c.a)(p,2),v=g[0],h=g[1],E=Object(a.useState)(""),y=Object(c.a)(E,2),j=y[0],O=y[1];return Object(a.useEffect)((function(){s.a.get("http://localhost:3001/persons").then((function(e){o(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement((function(e){var t=e.message;return t?r.a.createElement("div",{style:{color:"green",backgroundColor:"lightgrey",fontSize:20,padding:10,borderStyle:"solid",borderRadius:5,marginBottom:10,visibility:"visible"}},t):null}),{message:m}),r.a.createElement((function(e){var t=e.message;return t?r.a.createElement("div",{style:{color:"red",backgroundColor:"lightgrey",fontSize:20,padding:10,borderStyle:"solid",borderRadius:5,marginBottom:10,visibility:"visible"}},t):null}),{message:v}),r.a.createElement((function(e){var t=e.message;return t?r.a.createElement("div",{style:{color:"red",backgroundColor:"lightgrey",fontSize:20,padding:10,borderStyle:"solid",borderRadius:5,marginBottom:10,visibility:"visible"}},t):null}),{message:j}),r.a.createElement(i,{persons:n}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(f,{setAdded:d,persons:n,setPersons:o}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(b,{setMissing:O,setDeleted:h,per:n,setPer:o}))};l.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.37ff97d0.chunk.js.map